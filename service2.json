{
    "identifier": "service40",
    "title": "Micro42",
    "icon": "Microservice",
    "ownership": {
      "type": "Direct"
    },
    "schema": {
      "properties": {},
      "required": []
    },
    "mirrorProperties": {
      "repo_id": {
        "title": "Repo ID",
        "path": "repository.$identifier"
      },
      "last_push": {
        "title": "Last push ",
        "path": "repository.last_push"
      },
      "require_code_owner_review": {
        "title": "Require code owner review ",
        "path": "repository.require_code_owner_review"
      },
      "readme": {
        "title": "README",
        "path": "repository.readme"
      },
      "readm2e": {
        "title": "README",
        "path": "repository.readme"
      }
    },
    "calculationProperties": {
      "freshness": {
        "title": "Repository Freshness ",
        "icon": "DefaultProperty",
        "description": "Days since last push to the repository main page",
        "calculation": "((now | todateiso8601) as $now | ($now | fromdateiso8601) - (.properties.last_push | fromdateiso8601)) / 86400 | floor",
        "type": "number"
      }
    },
    "aggregationProperties": {
      "lead_time_for_change": {
        "title": "Lead Time for Change",
        "icon": "DefaultProperty",
        "type": "number",
        "target": "githubPullRequest",
        "query": {
          "combinator": "and",
          "rules": [
            {
              "property": "status",
              "operator": "=",
              "value": "merged"
            }
          ]
        },
        "calculationSpec": {
          "func": "average",
          "averageOf": "total",
          "property": "leadTimeHours",
          "measureTimeBy": "$createdAt",
          "calculationBy": "property"
        }
      }
    },
    "relations": {
      "repository": {
        "title": "Repository",
        "target": "githubRepository",
        "required": false,
        "many": false
      },
      "repo": {
        "title": "Repo",
        "target": "githubRepository",
        "required": false,
        "many": false
      }
    }
  }